version_base: 1.1
experiment:
  seed: 42
datamodule:
  _datamodule_: timage_forecasting.datamodule.TimeSeriesWithImageDataModule
  df_path: experiments/task5/train_processed_img_task5.csv
  test_df_path: experiments/task5/test_processed_img_task5.csv
  parse_dates:
  - date
  time_idx: time_idx
  target: kwh
  group_ids:
  - panel_id
  static_reals: []
  static_categoricals:
  - solar_term
  - hod
  - dow
  - moy
  time_varying_known_reals: []
  time_varying_unknown_reals:
  - kwh
  time_varying_known_categoricals: []
  time_varying_unknown_categoricals: []
  input_chunk_length: 168
  output_chunk_length: 24
  val_split: 0.2
  batch_size: 32
  num_workers: 4
  classification: false
  num_classes: 1
  classification_task: null
  image_cols_start: sat_v1
  image_cols_end: sat_v576
  image_shape:
  - 1
  - 24
  - 24
model:
  _datamodule_: null
  _model_: timage_forecasting.model.Timage
  input_chunk_length: ${dataset.input_chunk_length}
  output_chunk_length: ${dataset.output_chunk_length}
  num_encoder_layers_ts: 3
  hidden_size_ts: 64
  num_decoder_layers: 2
  decoder_output_dim: 16
  temporal_width_future: 4
  temporal_hidden_size_future: 32
  temporal_decoder_hidden: 32
  use_layer_norm: false
  dropout: 0.1
  image_backbone: tf_efficientnetv2_b0.in1k
  image_pretrained: true
  classification: ${dataset.classification}
  num_classes: ${dataset.num_classes}
  classification_task: ${dataset.classification_task}
trainer:
  _trainer_: pytorch_lightning.Trainer
  log_every_n_steps: 10
  max_epochs: 100
  precision: 16
  gpus: 1
  seed: 42
  log_dir: lightning_logs
  name: timage
  version: v0
